# Production Environment Configuration for Synology NAS Deployment
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED - Docker Hub
# =============================================================================
# Your Docker Hub username (images will be pulled as username/rag-backend:latest)
DOCKER_USERNAME=your-dockerhub-username

# Your NAS IP address or hostname (used for NEXT_PUBLIC_API_URL)
NAS_HOST=192.168.1.100

# Data storage path on NAS (for persistent volumes)
DATA_PATH=/volume1/docker/rag-system

# User/Group ID for file permissions (find with: id -u && id -g via SSH)
# On Synology, admin user is typically 1024 or 1026
PUID=1000
PGID=1000

# =============================================================================
# REQUIRED - Security Keys
# =============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_ME_generate_a_secure_random_key

# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=CHANGE_ME_generate_a_fernet_key

# =============================================================================
# REQUIRED - Database
# =============================================================================
POSTGRES_USER=raguser
# Use a strong password! Generate with: openssl rand -base64 24
POSTGRES_PASSWORD=CHANGE_ME_use_a_strong_password
POSTGRES_DB=ragdb

# =============================================================================
# REQUIRED - LLM Provider (at least one)
# =============================================================================
# OpenAI API Key (get from https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-your-openai-api-key

# OR Anthropic API Key (get from https://console.anthropic.com/)
ANTHROPIC_API_KEY=your-anthropic-api-key

# Default providers (openai, anthropic, or ollama)
LLM_PROVIDER=openai
EMBEDDING_PROVIDER=openai

# =============================================================================
# OPTIONAL - Image Tag
# =============================================================================
# Use 'latest' or a specific version tag
IMAGE_TAG=latest

# =============================================================================
# OPTIONAL - Ollama (for local LLM)
# =============================================================================
# If running Ollama on the NAS or another machine
# OLLAMA_BASE_URL=http://192.168.1.100:11434

# =============================================================================
# OPTIONAL - Email Notifications (for recaps)
# =============================================================================
# SMTP settings for sending email notifications
# Leave empty to disable email features

# For Gmail: smtp.gmail.com (requires app password)
# For Outlook: smtp.office365.com
# For Synology Mail Server: localhost or your NAS IP
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=
SMTP_FROM_NAME=RAG System
SMTP_USE_TLS=true
SMTP_USE_SSL=false
